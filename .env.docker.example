# ==========================================
# Docker Environment Configuration
# ==========================================
# This file contains environment variables specifically for Docker Compose deployments.
# Copy this to .env and fill in your actual values.

# ==========================================
# Clerk Authentication
# ==========================================
# Get these from: https://dashboard.clerk.com/
CLERK_PUBLISHABLE_KEY=pk_test_your_key_here
CLERK_SECRET_KEY=sk_test_your_key_here

# ==========================================
# Stripe Payment
# ==========================================
# Get these from: https://dashboard.stripe.com/
STRIPE_SECRET_KEY=sk_test_your_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ==========================================
# Database URLs (Docker Internal)
# ==========================================
# These are pre-configured for Docker Compose internal networking.
# Do not change unless you modify docker-compose.yml

# PostgreSQL (Product Service) - Internal Docker URL
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/product_db?schema=public

# MongoDB (Order Service) - Internal Docker URL
MONGO_URL=mongodb://admin:admin123@mongodb:27017/order_db?authSource=admin

# ==========================================
# Kafka Configuration (Docker Internal)
# ==========================================
# Internal Docker network URLs for Kafka brokers
KAFKA_BROKERS=kafka-broker-1:9092,kafka-broker-2:9092,kafka-broker-3:9092

# ==========================================
# Service URLs (Docker Internal)
# ==========================================
# These are used by Next.js apps to communicate with backend services
# via Traefik reverse proxy (client-side requests)
NEXT_PUBLIC_PRODUCT_SERVICE_URL=https://api.localhost
NEXT_PUBLIC_ORDER_SERVICE_URL=https://api.localhost
NEXT_PUBLIC_PAYMENT_SERVICE_URL=https://api.localhost

# For Stripe (public, safe to expose)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}

# ==========================================
# Node Environment
# ==========================================
NODE_ENV=production

# ==========================================
# Service Ports
# ==========================================
# These are the external ports exposed on your host machine
# Default values match docker-compose.yml
CLIENT_PORT=3002
ADMIN_PORT=3003
PRODUCT_SERVICE_PORT=3000
ORDER_SERVICE_PORT=8001
PAYMENT_SERVICE_PORT=8002
POSTGRES_PORT=5432
MONGODB_PORT=27017
KAFKA_UI_PORT=8080

# ==========================================
# Database Credentials
# ==========================================
# PostgreSQL
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=product_db

# MongoDB
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=admin123
MONGO_INITDB_DATABASE=order_db

# ==========================================
# Optional: External Service URLs
# ==========================================
# If you need to access services from outside Docker (e.g., from host machine),
# uncomment and use these URLs instead:
# NEXT_PUBLIC_PRODUCT_SERVICE_URL=http://localhost:3000
# NEXT_PUBLIC_ORDER_SERVICE_URL=http://localhost:8001
# NEXT_PUBLIC_PAYMENT_SERVICE_URL=http://localhost:8002

# ==========================================
# Optional: Remote Caching (Turborepo)
# ==========================================
# Uncomment to enable Turborepo remote caching
# TURBO_TOKEN=your_turbo_token_here
# TURBO_TEAM=your_team_name_here

# ==========================================
# Optional: Logging & Monitoring
# ==========================================
# LOG_LEVEL=info
# SENTRY_DSN=your_sentry_dsn_here

# ==========================================
# Optional: Custom Configuration
# ==========================================
# Add any additional environment variables your services need below
